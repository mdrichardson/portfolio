@import '../global-variables.scss';
@import '../animations.scss';

$collapsedImgWidth: 25vw;


// Styling for collapsed/un-expanded project

.project-container:not(.expanded) {
    display: grid;
    grid-template-columns: 1fr $collapsedImgWidth;
    grid-template-rows: auto 4rem;
    max-width: 100rem;
    margin: 5em 0;
    transition: all 0.2s ease-out;
    will-change: position;
    transform-origin: right top;

    .project-text {
        grid-column-start: 1;
        grid-row-start: 1;
        align-self: center;

        h2 {
            margin-bottom: 0.5rem;
            color: $blue;
            animation: right-down 0.25s ease-out;
            will-change: position;
            text-shadow: $smallShadow;
            font-size: 4vw;
            text-align: right;
            margin-right: 1rem;
        }
    
        .short-desc {
            opacity: 0;
            line-height: 1.2em;
            animation: fade-in 0.4s ease-out, right-down 0.27s ease-out;
            animation-fill-mode: both;
            will-change: opacity;
            font-size: 1.9rem;
            text-align: right;;
            margin-right: 1rem;

        }
    }

    .long-desc {
        display: none;
    }

    .bullets {
        display: none;
    }

    .main-image {
        grid-column-start: 2;
        grid-row-start: 1;
        cursor: pointer;

        img {
            justify-self: start;
            width: $collapsedImgWidth;
            border: 0.7em solid rgba(161, 232, 175, 0.4);
            transition: border 0.5s ease-out;
            box-shadow: $smallShadow;
        }

        .expanded-tool-icons {
            display: none;
        }
    }

    .tool-icons {
        grid-column-start: 2;
        grid-row-start: 2;
        display: flex;
        flex-direction: row;
        justify-self: right;
        animation: fade-in 0.5s ease-out, up-right 0.25s ease-out;
        will-change: position;
        filter: $dropShadow;

        svg, img {
            height: 28px;
            margin: 5px;
    
            path {
                fill: $green;
                animation: blue-green 0.5s ease-out;
            }
        }

        .tool-name {
            display: none;
        }
    }

    .links {
        display: none;
    }
}


// Styling for expanded project
.project-container.expanded {
    display: flex;
    flex-flow: row wrap;
    justify-content: space-between;
    max-width: 100rem;
    margin: 5em 0;
    background-color: rgba(161, 232, 175, 0.2);
    padding: 1.5em;
    border-radius: 0.5em;
    box-shadow: $giantShadow;
    cursor: pointer;
    transition: background-color 1.25s ease-in,
                margin 1.25s ease-in,
                box-shadow 1.75s ease-out 0.5s;
    will-change: contents;

    .project-text {
        flex: 1 0 100%;
        text-align: left;
        margin-right: 3vw;
        display: flex;
        flex-direction: column;
        justify-content: space-around;

        h2 {
            align-self: flex-start;
            color: $blue;
            animation: left-up 0.3s ease-in, fade-in .5s ease-in;
            will-change: position;
            font-size: 3vw;

        }

        .short-desc {
            display: none;
        }
    }

    .long-desc {
        flex: 1 0 100%;
        line-height: 1.2em;
        opacity: 0;
        animation: fade-in 1.25s ease-out 0.2s;
        animation-fill-mode: forwards;
        font-size: 1.8rem;
        line-height: 2rem;
        margin: 0.5em 0 1em 0;
    }

    ul {
        flex: 1 0 250px;
        display: flex;
        // max-height: 35rem;
        justify-content: space-around;
        flex-flow: column nowrap;
        list-style-type: none;
        margin: 0 3vw;
        text-indent: -2rem;
        opacity: 0;
        animation: fade-in 1.25s ease-out 0.4s;
        animation-fill-mode: forwards;

        li {
            opacity: 0.9;
            font-size: 1.7rem;
            line-height: 1.9rem;

            &:before { 
                content: ''; 
                display: inline-block; 
                height: 1rem; 
                width: 1rem; 
                mask-image:url('../images/bullet.svg');
                margin-right: 1rem;
                background-color: $blue;
                }
        }
    }

    .main-image {
        flex: 2 1 200px;
        cursor: pointer;

        img {
            justify-self: start;
            grid-row-start: 1;
            width: 100%;
            border: 0;
            transition: width 0.5s ease-out,
                        border 1s ease-in;
        }
        .expanded-tool-icons {
            flex: 1 0 auto;
            justify-self: flex-end;
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            justify-content: space-around;
            align-items: flex-start;
            animation: down-left 0.5s ease-out, fade-in 0.5s ease-out;
            will-change: position;
            filter: $dropShadow;
    
            & > * {
                margin: 0.5em;
            }
    
            svg, img {
                height: 28px;
                display: block;
                margin: 5px auto;
        
                path {
                    fill: $green;
                    animation: green-blue 1s ease-out;
                    animation-fill-mode: forwards;
                }
            }
    
            .tool-name {
                align-self: bottom;
                animation: fade-in 1s ease-out;
                font-size: 1.5rem;
            }
        }
    }

    .tool-icons {
        display: none;
    }

    .links {
        flex: 1 0 100%;
        font-size: 1.5rem;
        display: flex;
        flex-direction: row;
        justify-content: flex-start;
        align-content: flex-start;
        opacity: 0;
        animation: fade-in 0.75s ease-out 0.6s;
        animation-fill-mode: forwards;
        margin-top: 2em;
        
        .web-link {
            margin-left: 2em;
        }

        span {
            margin-left: 1em;
        }

        path {
            fill: $blue;
        }
    }

    a, a:visited {
        color: $green;
        text-decoration: none;
    }
}